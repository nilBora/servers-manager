{{define "account-table"}}
{{if .Accounts}}
<table class="data-table">
    <thead>
        <tr>
            <th>Provider</th>
            <th>Group</th>
            <th>Name</th>
            <th>API Key</th>
            <th>Servers</th>
            <th class="actions-col">Actions</th>
        </tr>
    </thead>
    <tbody>
        {{range .Accounts}}
        <tr>
            <td><span class="provider-badge">{{.ProviderName}}</span></td>
            <td class="group-cell">{{if .GroupName}}{{.GroupName}}{{else}}-{{end}}</td>
            <td class="name-cell">{{.Name}}</td>
            <td class="api-key-cell">{{if .ApiKey}}{{.ApiKey | maskApiKey}}{{else}}-{{end}}</td>
            <td class="count-cell">{{.ServerCount}}</td>
            <td class="actions-cell">
                <button class="btn btn-small btn-secondary"
                        hx-get="/web/accounts/{{.ID}}/edit"
                        hx-target="#modal-content"
                        hx-swap="innerHTML"
                        onclick="showModal()">Edit</button>
                <button class="btn btn-small btn-danger"
                        onclick="confirmDelete('{{.Name}}', '/web/accounts/{{.ID}}', '#accounts-table')">Delete</button>
            </td>
        </tr>
        {{end}}
    </tbody>
</table>
{{else}}
<div class="empty-state">
    <p>No accounts configured yet</p>
    {{if .Providers}}
    <button class="btn btn-primary" hx-get="/web/accounts/new" hx-target="#modal-content" hx-swap="innerHTML" onclick="showModal()">
        Add your first account
    </button>
    {{else}}
    <p class="hint">Add a provider first</p>
    <a href="/providers" class="btn btn-primary">Go to Providers</a>
    {{end}}
</div>
{{end}}
{{end}}
